package multicall

import (
	"time"

	"github.com/ethereum/go-ethereum/common"
)

const GENERAL_MULTICALL_ABI = "[{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Call[]\",\"name\":\"calls\",\"type\":\"tuple[]\"}],\"name\":\"aggregate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"},{\"internalType\":\"bytes[]\",\"name\":\"returnData\",\"type\":\"bytes[]\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"allowFailure\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Call3[]\",\"name\":\"calls\",\"type\":\"tuple[]\"}],\"name\":\"aggregate3\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"returnData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Result[]\",\"name\":\"returnData\",\"type\":\"tuple[]\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"allowFailure\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Call3Value[]\",\"name\":\"calls\",\"type\":\"tuple[]\"}],\"name\":\"aggregate3Value\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"returnData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Result[]\",\"name\":\"returnData\",\"type\":\"tuple[]\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Call[]\",\"name\":\"calls\",\"type\":\"tuple[]\"}],\"name\":\"blockAndAggregate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"blockHash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"returnData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Result[]\",\"name\":\"returnData\",\"type\":\"tuple[]\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBasefee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"basefee\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"}],\"name\":\"getBlockHash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"blockHash\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBlockNumber\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getChainId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"chainid\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentBlockCoinbase\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"coinbase\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentBlockDifficulty\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"difficulty\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentBlockGasLimit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"gaslimit\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentBlockTimestamp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"getEthBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLastBlockHash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"blockHash\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"requireSuccess\",\"type\":\"bool\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Call[]\",\"name\":\"calls\",\"type\":\"tuple[]\"}],\"name\":\"tryAggregate\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"returnData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Result[]\",\"name\":\"returnData\",\"type\":\"tuple[]\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"requireSuccess\",\"type\":\"bool\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Call[]\",\"name\":\"calls\",\"type\":\"tuple[]\"}],\"name\":\"tryBlockAndAggregate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"blockHash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"returnData\",\"type\":\"bytes\"}],\"internalType\":\"struct Multicall3.Result[]\",\"name\":\"returnData\",\"type\":\"tuple[]\"}],\"stateMutability\":\"payable\",\"type\":\"function\"}]"

var OMNES_MULTICALL_ADDRESS = common.HexToAddress("0xc4CE14dCBfacf913dCC06a659672dc6d412C50D5")

// const OMNES_MULTICALL_ABI = "[{\"type\":\"fallback\",\"stateMutability\":\"payable\"},{\"type\":\"receive\",\"stateMutability\":\"payable\"},{\"type\":\"function\",\"name\":\"aggregateCalls\",\"inputs\":[{\"name\":\"calls\",\"type\":\"tuple[]\",\"internalType\":\"struct Call[]\",\"components\":[{\"name\":\"target\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"callData\",\"type\":\"bytes\",\"internalType\":\"bytes\"},{\"name\":\"value\",\"type\":\"uint256\",\"internalType\":\"uint256\"}]}],\"outputs\":[{\"name\":\"returnDatas\",\"type\":\"bytes[]\",\"internalType\":\"bytes[]\"}],\"stateMutability\":\"payable\"},{\"type\":\"function\",\"name\":\"aggregateStatic\",\"inputs\":[{\"name\":\"calls\",\"type\":\"tuple[]\",\"internalType\":\"struct StaticCall[]\",\"components\":[{\"name\":\"target\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"callData\",\"type\":\"bytes\",\"internalType\":\"bytes\"}]}],\"outputs\":[{\"name\":\"returnData\",\"type\":\"bytes[]\",\"internalType\":\"bytes[]\"}],\"stateMutability\":\"view\"},{\"type\":\"function\",\"name\":\"getAddressesData\",\"inputs\":[{\"name\":\"targets\",\"type\":\"address[]\",\"internalType\":\"address[]\"}],\"outputs\":[{\"name\":\"balances\",\"type\":\"uint256[]\",\"internalType\":\"uint256[]\"},{\"name\":\"codeLengths\",\"type\":\"uint256[]\",\"internalType\":\"uint256[]\"}],\"stateMutability\":\"view\"},{\"type\":\"function\",\"name\":\"getBalances\",\"inputs\":[{\"name\":\"targets\",\"type\":\"address[]\",\"internalType\":\"address[]\"}],\"outputs\":[{\"name\":\"balances\",\"type\":\"uint256[]\",\"internalType\":\"uint256[]\"}],\"stateMutability\":\"view\"},{\"type\":\"function\",\"name\":\"getCodeLengths\",\"inputs\":[{\"name\":\"targets\",\"type\":\"address[]\",\"internalType\":\"address[]\"}],\"outputs\":[{\"name\":\"lengths\",\"type\":\"uint256[]\",\"internalType\":\"uint256[]\"}],\"stateMutability\":\"view\"},{\"type\":\"function\",\"name\":\"simulateCalls\",\"inputs\":[{\"name\":\"calls\",\"type\":\"tuple[]\",\"internalType\":\"struct Call[]\",\"components\":[{\"name\":\"target\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"callData\",\"type\":\"bytes\",\"internalType\":\"bytes\"},{\"name\":\"value\",\"type\":\"uint256\",\"internalType\":\"uint256\"}]}],\"outputs\":[],\"stateMutability\":\"payable\"},{\"type\":\"function\",\"name\":\"tryAggregateCalls\",\"inputs\":[{\"name\":\"calls\",\"type\":\"tuple[]\",\"internalType\":\"struct MultiCall.CallWithFailure[]\",\"components\":[{\"name\":\"target\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"callData\",\"type\":\"bytes\",\"internalType\":\"bytes\"},{\"name\":\"value\",\"type\":\"uint256\",\"internalType\":\"uint256\"},{\"name\":\"requireSuccess\",\"type\":\"bool\",\"internalType\":\"bool\"}]}],\"outputs\":[{\"name\":\"results\",\"type\":\"tuple[]\",\"internalType\":\"struct MultiCall.Result[]\",\"components\":[{\"name\":\"success\",\"type\":\"bool\",\"internalType\":\"bool\"},{\"name\":\"returnData\",\"type\":\"bytes\",\"internalType\":\"bytes\"}]}],\"stateMutability\":\"payable\"},{\"type\":\"function\",\"name\":\"tryAggregateCalls\",\"inputs\":[{\"name\":\"calls\",\"type\":\"tuple[]\",\"internalType\":\"struct Call[]\",\"components\":[{\"name\":\"target\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"callData\",\"type\":\"bytes\",\"internalType\":\"bytes\"},{\"name\":\"value\",\"type\":\"uint256\",\"internalType\":\"uint256\"}]},{\"name\":\"requireSuccess\",\"type\":\"bool\",\"internalType\":\"bool\"}],\"outputs\":[{\"name\":\"results\",\"type\":\"tuple[]\",\"internalType\":\"struct MultiCall.Result[]\",\"components\":[{\"name\":\"success\",\"type\":\"bool\",\"internalType\":\"bool\"},{\"name\":\"returnData\",\"type\":\"bytes\",\"internalType\":\"bytes\"}]}],\"stateMutability\":\"payable\"},{\"type\":\"function\",\"name\":\"tryAggregateStatic\",\"inputs\":[{\"name\":\"calls\",\"type\":\"tuple[]\",\"internalType\":\"struct StaticCall[]\",\"components\":[{\"name\":\"target\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"callData\",\"type\":\"bytes\",\"internalType\":\"bytes\"}]},{\"name\":\"requireSuccess\",\"type\":\"bool\",\"internalType\":\"bool\"}],\"outputs\":[{\"name\":\"returnData\",\"type\":\"tuple[]\",\"internalType\":\"struct MultiCall.Result[]\",\"components\":[{\"name\":\"success\",\"type\":\"bool\",\"internalType\":\"bool\"},{\"name\":\"returnData\",\"type\":\"bytes\",\"internalType\":\"bytes\"}]}],\"stateMutability\":\"view\"},{\"type\":\"function\",\"name\":\"tryAggregateStatic\",\"inputs\":[{\"name\":\"calls\",\"type\":\"tuple[]\",\"internalType\":\"struct StaticCallWithFailure[]\",\"components\":[{\"name\":\"target\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"callData\",\"type\":\"bytes\",\"internalType\":\"bytes\"},{\"name\":\"requireSuccess\",\"type\":\"bool\",\"internalType\":\"bool\"}]}],\"outputs\":[{\"name\":\"returnData\",\"type\":\"tuple[]\",\"internalType\":\"struct MultiCall.Result[]\",\"components\":[{\"name\":\"success\",\"type\":\"bool\",\"internalType\":\"bool\"},{\"name\":\"returnData\",\"type\":\"bytes\",\"internalType\":\"bytes\"}]}],\"stateMutability\":\"view\"},{\"type\":\"error\",\"name\":\"MultiCall__CallFailed\",\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\",\"internalType\":\"uint256\"}]},{\"type\":\"error\",\"name\":\"MultiCall__SendingValueNotAllowed\",\"inputs\":[]},{\"type\":\"error\",\"name\":\"MultiCall__Simulation\",\"inputs\":[{\"name\":\"results\",\"type\":\"tuple[]\",\"internalType\":\"struct MultiCall.SimulatedResult[]\",\"components\":[{\"name\":\"success\",\"type\":\"bool\",\"internalType\":\"bool\"},{\"name\":\"returnData\",\"type\":\"bytes\",\"internalType\":\"bytes\"},{\"name\":\"gasUsed\",\"type\":\"uint256\",\"internalType\":\"uint256\"}]}]},{\"type\":\"error\",\"name\":\"MultiCall__StaticCallFailed\",\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\",\"internalType\":\"uint256\"}]}]"

// const DEPLOYLESS_MULTICALL_ABI = "[{\"type\":\"constructor\",\"inputs\":[{\"name\":\"callData\",\"type\":\"bytes\",\"internalType\":\"bytes\"}],\"stateMutability\":\"payable\"},{\"type\":\"error\",\"name\":\"MultiCallCodec__InvalidStaticCallType\",\"inputs\":[{\"name\":\"type_\",\"type\":\"uint8\",\"internalType\":\"uint8\"}]},{\"type\":\"error\",\"name\":\"MultiCall__SendingValueNotAllowed\",\"inputs\":[]},{\"type\":\"error\",\"name\":\"MultiCall__Simulation\",\"inputs\":[{\"name\":\"results\",\"type\":\"tuple[]\",\"internalType\":\"struct DeploylessMultiCall.SimulatedResult[]\",\"components\":[{\"name\":\"success\",\"type\":\"bool\",\"internalType\":\"bool\"},{\"name\":\"returnData\",\"type\":\"bytes\",\"internalType\":\"bytes\"},{\"name\":\"gasUsed\",\"type\":\"uint256\",\"internalType\":\"uint256\"}]}]},{\"type\":\"error\",\"name\":\"MultiCall__StaticCallFailed\",\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\",\"internalType\":\"uint256\"}]}]"

const DEPLOYLESS_MULTICALL_BYTECODE = "0x608060405260405161264a38038061264a83398181016040528101906100259190611597565b5f5f5f5f5f5f5f61003b8861041d60201b60201c565b965096509650965096509650965060605f600881111561005e5761005d6115de565b5b886008811115610071576100706115de565b5b0361008a57610085846106c260201b60201c565b610415565b6001600881111561009e5761009d6115de565b5b8860088111156100b1576100b06115de565b5b036100ca576100c58361088360201b60201c565b610414565b600260088111156100de576100dd6115de565b5b8860088111156100f1576100f06115de565b5b03610130575f61010688610a2360201b60201c565b9050806040516020016101199190611718565b604051602081830303815290604052915050610413565b60036008811115610144576101436115de565b5b886008811115610157576101566115de565b5b03610197575f61016d8888610bcc60201b60201c565b9050806040516020016101809190611847565b604051602081830303815290604052915050610412565b600460088111156101ab576101aa6115de565b5b8860088111156101be576101bd6115de565b5b036101fd575f6101d386610d9560201b60201c565b9050806040516020016101e69190611847565b604051602081830303815290604052915050610411565b60056008811115610211576102106115de565b5b886008811115610224576102236115de565b5b03610263575f61023983610f8760201b60201c565b90508060405160200161024c9190611927565b604051602081830303815290604052915050610410565b60066008811115610277576102766115de565b5b88600881111561028a576102896115de565b5b036102c9575f61029f8361105e60201b60201c565b9050806040516020016102b29190611927565b60405160208183030381529060405291505061040f565b600760088111156102dd576102dc6115de565b5b8860088111156102f0576102ef6115de565b5b03610335575f5f6103068461113560201b60201c565b91509150818160405160200161031d929190611947565b6040516020818303038152906040529250505061040e565b600880811115610348576103476115de565b5b88600881111561035b5761035a6115de565b5b0361040d575f5f5f5f5f5f5f5f5f6103776112c260201b60201c565b9850985098509850985098509850985098505f89898989896040516020016103a39594939291906119e2565b60405160208183030381529060405290505f858585856040516020016103cc9493929190611a33565b604051602081830303815290604052905081816040516020016103f0929190611ab0565b6040516020818303038152906040529b5050505050505050505050505b5b5b5b5b5b5b5b5b805160208201f35b5f60605f6060806060805f885f8151811061043b5761043a611ad3565b5b602001015160f81c60f81b60f81c905060606008808111156104605761045f6115de565b5b60ff168260ff161461048d5761048a8a6001808d5161047f9190611b2d565b6112f260201b60201c565b90505b600260088111156104a1576104a06115de565b5b60ff168260ff16036104c857808060200190518101906104c19190611cdd565b975061069d565b600360088111156104dc576104db6115de565b5b60ff168260ff160361050957808060200190518101906104fc9190611d4e565b809850819950505061069c565b6004600881111561051d5761051c6115de565b5b60ff168260ff1603610544578080602001905181019061053d9190611f03565b955061069b565b5f6008811115610557576105566115de565b5b60ff168260ff160361057e578080602001905181019061057791906120cf565b945061069a565b60016008811115610592576105916115de565b5b60ff168260ff16036105b957808060200190518101906105b2919061225d565b9350610699565b600560088111156105cd576105cc6115de565b5b60ff168260ff1614806105f85750600660088111156105ef576105ee6115de565b5b60ff168260ff16145b8061061b575060076008811115610612576106116115de565b5b60ff168260ff16145b1561063b57808060200190518101906106349190612364565b9250610698565b60088081111561064e5761064d6115de565b5b60ff168260ff161461069757816040517f654f0df700000000000000000000000000000000000000000000000000000000815260040161068e91906123c6565b60405180910390fd5b5b5b5b5b5b5b8160ff1660088111156106b3576106b26115de565b5b98505050919395979092949650565b5f815167ffffffffffffffff8111156106de576106dd611473565b5b60405190808252806020026020018201604052801561071757816020015b61070461140e565b8152602001906001900390816106fc5790505b5090505f5f90505b8251811015610845575f5a90505f5f85848151811061074157610740611ad3565b5b60200260200101515f015173ffffffffffffffffffffffffffffffffffffffff1686858151811061077557610774611ad3565b5b60200260200101516040015187868151811061079457610793611ad3565b5b6020026020010151602001516040516107ad91906123df565b5f6040518083038185875af1925050503d805f81146107e7576040519150601f19603f3d011682016040523d82523d5f602084013e6107ec565b606091505b5091509150604051806060016040528083151581526020018281526020015a856108169190611b2d565b81525085858151811061082c5761082b611ad3565b5b602002602001018190525083600101935050505061071f565b50806040517fc6da632c00000000000000000000000000000000000000000000000000000000815260040161087a91906124fd565b60405180910390fd5b5f815167ffffffffffffffff81111561089f5761089e611473565b5b6040519080825280602002602001820160405280156108d857816020015b6108c561140e565b8152602001906001900390816108bd5790505b5090505f5f90505b82518110156109e5575f5a90505f5f85848151811061090257610901611ad3565b5b60200260200101515f015173ffffffffffffffffffffffffffffffffffffffff1686858151811061093657610935611ad3565b5b60200260200101516020015160405161094f91906123df565b5f60405180830381855af49150503d805f8114610987576040519150601f19603f3d011682016040523d82523d5f602084013e61098c565b606091505b5091509150604051806060016040528083151581526020018281526020015a856109b69190611b2d565b8152508585815181106109cc576109cb611ad3565b5b60200260200101819052508360010193505050506108e0565b50806040517fc6da632c000000000000000000000000000000000000000000000000000000008152600401610a1a91906124fd565b60405180910390fd5b6060815167ffffffffffffffff811115610a4057610a3f611473565b5b604051908082528060200260200182016040528015610a7357816020015b6060815260200190600190039081610a5e5790505b5090505f825190505b5f811115610bc6575f83600183610a939190611b2d565b81518110610aa457610aa3611ad3565b5b60200260200101515f015173ffffffffffffffffffffffffffffffffffffffff1684600184610ad39190611b2d565b81518110610ae457610ae3611ad3565b5b602002602001015160200151604051610afd91906123df565b5f60405180830381855afa9150503d805f8114610b35576040519150601f19603f3d011682016040523d82523d5f602084013e610b3a565b606091505b5084600185610b499190611b2d565b81518110610b5a57610b59611ad3565b5b60200260200101819052819250505080600183610b779190611b2d565b90610bb8576040517f9eadd6c5000000000000000000000000000000000000000000000000000000008152600401610baf919061251d565b60405180910390fd5b508160019003915050610a7c565b50919050565b6060825167ffffffffffffffff811115610be957610be8611473565b5b604051908082528060200260200182016040528015610c2257816020015b610c0f61142f565b815260200190600190039081610c075790505b5090505f835190505b5f811115610d8e575f82600183610c429190611b2d565b81518110610c5357610c52611ad3565b5b6020026020010151905084600183610c6b9190611b2d565b81518110610c7c57610c7b611ad3565b5b60200260200101515f015173ffffffffffffffffffffffffffffffffffffffff1685600184610cab9190611b2d565b81518110610cbc57610cbb611ad3565b5b602002602001015160200151604051610cd591906123df565b5f60405180830381855afa9150503d805f8114610d0d576040519150601f19603f3d011682016040523d82523d5f602084013e610d12565b606091505b50825f0183602001829052821515151581525050508315610d8157805f0151600183610d3e9190611b2d565b90610d7f576040517f9eadd6c5000000000000000000000000000000000000000000000000000000008152600401610d76919061251d565b60405180910390fd5b505b8160019003915050610c2b565b5092915050565b6060815167ffffffffffffffff811115610db257610db1611473565b5b604051908082528060200260200182016040528015610deb57816020015b610dd861142f565b815260200190600190039081610dd05790505b5090505f825190505b5f811115610f81575f82600183610e0b9190611b2d565b81518110610e1c57610e1b611ad3565b5b6020026020010151905083600183610e349190611b2d565b81518110610e4557610e44611ad3565b5b60200260200101515f015173ffffffffffffffffffffffffffffffffffffffff1684600184610e749190611b2d565b81518110610e8557610e84611ad3565b5b602002602001015160200151604051610e9e91906123df565b5f60405180830381855afa9150503d805f8114610ed6576040519150601f19603f3d011682016040523d82523d5f602084013e610edb565b606091505b50825f01836020018290528215151515815250505083600183610efe9190611b2d565b81518110610f0f57610f0e611ad3565b5b60200260200101516040015115610f7457805f0151600183610f319190611b2d565b90610f72576040517f9eadd6c5000000000000000000000000000000000000000000000000000000008152600401610f69919061251d565b60405180910390fd5b505b8160019003915050610df4565b50919050565b6060815167ffffffffffffffff811115610fa457610fa3611473565b5b604051908082528060200260200182016040528015610fd25781602001602082028036833780820191505090505b5090505f825190505b5f8111156110585782600182610ff19190611b2d565b8151811061100257611001611ad3565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff163b8260018361102f9190611b2d565b815181106110405761103f611ad3565b5b60200260200101818152505080600190039050610fdb565b50919050565b6060815167ffffffffffffffff81111561107b5761107a611473565b5b6040519080825280602002602001820160405280156110a95781602001602082028036833780820191505090505b5090505f825190505b5f81111561112f57826001826110c89190611b2d565b815181106110d9576110d8611ad3565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff1631826001836111069190611b2d565b8151811061111757611116611ad3565b5b602002602001018181525050806001900390506110b2565b50919050565b606080825167ffffffffffffffff81111561115357611152611473565b5b6040519080825280602002602001820160405280156111815781602001602082028036833780820191505090505b509150825167ffffffffffffffff81111561119f5761119e611473565b5b6040519080825280602002602001820160405280156111cd5781602001602082028036833780820191505090505b5090505f835190505b5f8111156112bc57836001826111ec9190611b2d565b815181106111fd576111fc611ad3565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff16318360018361122a9190611b2d565b8151811061123b5761123a611ad3565b5b602002602001018181525050836001826112559190611b2d565b8151811061126657611265611ad3565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff163b826001836112939190611b2d565b815181106112a4576112a3611ad3565b5b602002602001018181525050806001900390506111d6565b50915091565b5f5f5f5f5f5f5f5f5f4643434048414244453a985098509850985098509850985098509850909192939495969798565b606081601f836113029190612536565b1015611343576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161133a906125c3565b60405180910390fd5b818361134f9190612536565b84511015611392576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113899061262b565b60405180910390fd5b606082155f81146113b15760405191505f825260208201604052611402565b6040519150601f8416801560200281840101858101878315602002848b0101015b818310156113ef57805183526020830192506020810190506113d2565b50868552601f19601f8301166040525050505b50809150509392505050565b60405180606001604052805f15158152602001606081526020015f81525090565b60405180604001604052805f15158152602001606081525090565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6114a982611463565b810181811067ffffffffffffffff821117156114c8576114c7611473565b5b80604052505050565b5f6114da61144a565b90506114e682826114a0565b919050565b5f67ffffffffffffffff82111561150557611504611473565b5b61150e82611463565b9050602081019050919050565b8281835e5f83830152505050565b5f61153b611536846114eb565b6114d1565b9050828152602081018484840111156115575761155661145f565b5b61156284828561151b565b509392505050565b5f82601f83011261157e5761157d61145b565b5b815161158e848260208601611529565b91505092915050565b5f602082840312156115ac576115ab611453565b5b5f82015167ffffffffffffffff8111156115c9576115c8611457565b5b6115d58482850161156a565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f81519050919050565b5f82825260208201905092915050565b5f61165882611634565b611662818561163e565b935061167281856020860161151b565b61167b81611463565b840191505092915050565b5f611691838361164e565b905092915050565b5f602082019050919050565b5f6116af8261160b565b6116b98185611615565b9350836020820285016116cb85611625565b805f5b8581101561170657848403895281516116e78582611686565b94506116f283611699565b925060208a019950506001810190506116ce565b50829750879550505050505092915050565b5f6020820190508181035f83015261173081846116a5565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f8115159050919050565b61177581611761565b82525050565b5f604083015f8301516117905f86018261176c565b50602083015184820360208601526117a8828261164e565b9150508091505092915050565b5f6117c0838361177b565b905092915050565b5f602082019050919050565b5f6117de82611738565b6117e88185611742565b9350836020820285016117fa85611752565b805f5b85811015611835578484038952815161181685826117b5565b9450611821836117c8565b925060208a019950506001810190506117fd565b50829750879550505050505092915050565b5f6020820190508181035f83015261185f81846117d4565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f819050919050565b6118a281611890565b82525050565b5f6118b38383611899565b60208301905092915050565b5f602082019050919050565b5f6118d582611867565b6118df8185611871565b93506118ea83611881565b805f5b8381101561191a57815161190188826118a8565b975061190c836118bf565b9250506001810190506118ed565b5085935050505092915050565b5f6020820190508181035f83015261193f81846118cb565b905092915050565b5f6040820190508181035f83015261195f81856118cb565b9050818103602083015261197381846118cb565b90509392505050565b61198581611890565b82525050565b5f819050919050565b61199d8161198b565b82525050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6119cc826119a3565b9050919050565b6119dc816119c2565b82525050565b5f60a0820190506119f55f83018861197c565b611a02602083018761197c565b611a0f6040830186611994565b611a1c606083018561197c565b611a2960808301846119d3565b9695505050505050565b5f608082019050611a465f83018761197c565b611a53602083018661197c565b611a60604083018561197c565b611a6d606083018461197c565b95945050505050565b5f81905092915050565b5f611a8a82611634565b611a948185611a76565b9350611aa481856020860161151b565b80840191505092915050565b5f611abb8285611a80565b9150611ac78284611a80565b91508190509392505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f611b3782611890565b9150611b4283611890565b9250828203905081811115611b5a57611b59611b00565b5b92915050565b5f67ffffffffffffffff821115611b7a57611b79611473565b5b602082029050602081019050919050565b5f5ffd5b5f5ffd5b5f5ffd5b611ba0816119c2565b8114611baa575f5ffd5b50565b5f81519050611bbb81611b97565b92915050565b5f60408284031215611bd657611bd5611b8f565b5b611be060406114d1565b90505f611bef84828501611bad565b5f83015250602082015167ffffffffffffffff811115611c1257611c11611b93565b5b611c1e8482850161156a565b60208301525092915050565b5f611c3c611c3784611b60565b6114d1565b90508083825260208201905060208402830185811115611c5f57611c5e611b8b565b5b835b81811015611ca657805167ffffffffffffffff811115611c8457611c8361145b565b5b808601611c918982611bc1565b85526020850194505050602081019050611c61565b5050509392505050565b5f82601f830112611cc457611cc361145b565b5b8151611cd4848260208601611c2a565b91505092915050565b5f60208284031215611cf257611cf1611453565b5b5f82015167ffffffffffffffff811115611d0f57611d0e611457565b5b611d1b84828501611cb0565b91505092915050565b611d2d81611761565b8114611d37575f5ffd5b50565b5f81519050611d4881611d24565b92915050565b5f5f60408385031215611d6457611d63611453565b5b5f83015167ffffffffffffffff811115611d8157611d80611457565b5b611d8d85828601611cb0565b9250506020611d9e85828601611d3a565b9150509250929050565b5f67ffffffffffffffff821115611dc257611dc1611473565b5b602082029050602081019050919050565b5f60608284031215611de857611de7611b8f565b5b611df260606114d1565b90505f611e0184828501611bad565b5f83015250602082015167ffffffffffffffff811115611e2457611e23611b93565b5b611e308482850161156a565b6020830152506040611e4484828501611d3a565b60408301525092915050565b5f611e62611e5d84611da8565b6114d1565b90508083825260208201905060208402830185811115611e8557611e84611b8b565b5b835b81811015611ecc57805167ffffffffffffffff811115611eaa57611ea961145b565b5b808601611eb78982611dd3565b85526020850194505050602081019050611e87565b5050509392505050565b5f82601f830112611eea57611ee961145b565b5b8151611efa848260208601611e50565b91505092915050565b5f60208284031215611f1857611f17611453565b5b5f82015167ffffffffffffffff811115611f3557611f34611457565b5b611f4184828501611ed6565b91505092915050565b5f67ffffffffffffffff821115611f6457611f63611473565b5b602082029050602081019050919050565b611f7e81611890565b8114611f88575f5ffd5b50565b5f81519050611f9981611f75565b92915050565b5f60608284031215611fb457611fb3611b8f565b5b611fbe60606114d1565b90505f611fcd84828501611bad565b5f83015250602082015167ffffffffffffffff811115611ff057611fef611b93565b5b611ffc8482850161156a565b602083015250604061201084828501611f8b565b60408301525092915050565b5f61202e61202984611f4a565b6114d1565b9050808382526020820190506020840283018581111561205157612050611b8b565b5b835b8181101561209857805167ffffffffffffffff8111156120765761207561145b565b5b8086016120838982611f9f565b85526020850194505050602081019050612053565b5050509392505050565b5f82601f8301126120b6576120b561145b565b5b81516120c684826020860161201c565b91505092915050565b5f602082840312156120e4576120e3611453565b5b5f82015167ffffffffffffffff81111561210157612100611457565b5b61210d848285016120a2565b91505092915050565b5f67ffffffffffffffff8211156121305761212f611473565b5b602082029050602081019050919050565b5f6040828403121561215657612155611b8f565b5b61216060406114d1565b90505f61216f84828501611bad565b5f83015250602082015167ffffffffffffffff81111561219257612191611b93565b5b61219e8482850161156a565b60208301525092915050565b5f6121bc6121b784612116565b6114d1565b905080838252602082019050602084028301858111156121df576121de611b8b565b5b835b8181101561222657805167ffffffffffffffff8111156122045761220361145b565b5b8086016122118982612141565b855260208501945050506020810190506121e1565b5050509392505050565b5f82601f8301126122445761224361145b565b5b81516122548482602086016121aa565b91505092915050565b5f6020828403121561227257612271611453565b5b5f82015167ffffffffffffffff81111561228f5761228e611457565b5b61229b84828501612230565b91505092915050565b5f67ffffffffffffffff8211156122be576122bd611473565b5b602082029050602081019050919050565b5f6122e16122dc846122a4565b6114d1565b9050808382526020820190506020840283018581111561230457612303611b8b565b5b835b8181101561232d57806123198882611bad565b845260208401935050602081019050612306565b5050509392505050565b5f82601f83011261234b5761234a61145b565b5b815161235b8482602086016122cf565b91505092915050565b5f6020828403121561237957612378611453565b5b5f82015167ffffffffffffffff81111561239657612395611457565b5b6123a284828501612337565b91505092915050565b5f60ff82169050919050565b6123c0816123ab565b82525050565b5f6020820190506123d95f8301846123b7565b92915050565b5f6123ea8284611a80565b915081905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f606083015f8301516124335f86018261176c565b506020830151848203602086015261244b828261164e565b91505060408301516124606040860182611899565b508091505092915050565b5f612476838361241e565b905092915050565b5f602082019050919050565b5f612494826123f5565b61249e81856123ff565b9350836020820285016124b08561240f565b805f5b858110156124eb57848403895281516124cc858261246b565b94506124d78361247e565b925060208a019950506001810190506124b3565b50829750879550505050505092915050565b5f6020820190508181035f830152612515818461248a565b905092915050565b5f6020820190506125305f83018461197c565b92915050565b5f61254082611890565b915061254b83611890565b925082820190508082111561256357612562611b00565b5b92915050565b5f82825260208201905092915050565b7f736c6963655f6f766572666c6f770000000000000000000000000000000000005f82015250565b5f6125ad600e83612569565b91506125b882612579565b602082019050919050565b5f6020820190508181035f8301526125da816125a1565b9050919050565b7f736c6963655f6f75744f66426f756e64730000000000000000000000000000005f82015250565b5f612615601183612569565b9150612620826125e1565b602082019050919050565b5f6020820190508181035f83015261264281612609565b905091905056fe"

var ZERO_ADDRESS = common.Address{}

const MINING_WAIT_DURATION = 600 * time.Second
